---
import Layout from '../layouts/Layout.astro'

// Aquí puedes definir las imágenes para la galería.
const images = [
  { src: '/assets/images/producto_1.jpg', alt: 'Descripción de la imagen 1' },
  { src: '/assets/images/producto_2.jpg', alt: 'Descripción de la imagen 2' },
  { src: '/assets/images/producto_1.jpg', alt: 'Descripción de la imagen 1' },
  { src: '/assets/images/producto_2.jpg', alt: 'Descripción de la imagen 2' },
  { src: '/assets/images/producto_1.jpg', alt: 'Descripción de la imagen 1' },
  { src: '/assets/images/producto_2.jpg', alt: 'Descripción de la imagen 2' },
    { src: '/assets/images/producto_1.jpg', alt: 'Descripción de la imagen 1' },
  { src: '/assets/images/producto_2.jpg', alt: 'Descripción de la imagen 2' },
  // ... Añade todas las imágenes que necesites aquí
];
---

<Layout title='Galería'>
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-4xl font-bold text-center mb-8">Galería</h1>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
          {/* Suponiendo que tienes una lista de imágenes en tu componente */}
          {images.map((image, index) => (
            <div key={index} class="relative group">
              <img src={image.src} alt={image.alt} loading="lazy"
                   class="w-full h-auto transition-transform duration-300 ease-in-out group-hover:scale-110"/>
              {/* Al hacer clic en la imagen, se abrirá el modal con la imagen completa */}
              <a href="#" class="absolute inset-0 flex justify-center items-center bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity duration-300 ease-in-out" onclick="openModal(this)">
                <span class="text-white opacity-0 group-hover:opacity-100 text-xl">Ver imagen</span>
              </a>
            </div>
          ))}
        </div>
      </div>
    
      {/* Modal para la imagen expandida */}
      <div id="imageModal" class="hidden fixed inset-0 bg-black bg-opacity-70 overflow-y-auto h-full w-full z-50" onclick="closeModal()">
        <div class="relative top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
          <img id="modalImage" class="rounded-lg shadow-lg" onclick="event.stopPropagation()" />
          <button onclick="closeModal()" class="absolute top-0 right-0 text-white p-2">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
    </Layout>
    
    <script>
      // Aquí tendrías que definir tus funciones `openModal` y `closeModal`.
      // Esto es solo un esquema y deberías ajustarlo según tus necesidades y la implementación real.
      function openModal(element) {
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        modalImage.src = element.querySelector('img').src;
        modalImage.alt = element.querySelector('img').alt;
        modal.classList.remove('hidden');
      }
    
      function closeModal() {
        document.getElementById('imageModal').classList.add('hidden');
      }
    </script>